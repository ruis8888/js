(function(b){var a={getRandom:function(d,c){return Math.floor(Math.random()*(c-d+1))+d}};b.Tools=a})(window);(function(e){var b="absolute";var a=[];function d(f){f=f||{};this.color=f.color||"green";this.width=f.width||20;this.height=f.height||20;this.x=f.x||0;this.y=f.y||0}d.prototype.render=function(f){c();var g=document.createElement("div");g.style.position=b;g.style.width=this.width+"px";g.style.height=this.height+"px";g.style.backgroundColor=this.color;this.x=Tools.getRandom(0,f.offsetWidth/this.width-1);this.y=Tools.getRandom(0,f.offsetHeight/this.height-1);g.style.left=(this.x*this.width)+"px";g.style.top=(this.y*this.height)+"px";f.appendChild(g);a.push(g)};function c(){var g=a.length-1;for(var f=g;f>=0;f--){a[f].parentNode.removeChild(a[f]);a.splice(f,1)}}e.Food=d})(window);(function(e){var a="absolute";var d=[];function c(f){f=f||{};this.direction=f.direction||"right";this.width=f.width||20;this.height=f.height||20;this.body=[{x:3,y:2,color:"red"},{x:2,y:2,color:"blue"},{x:1,y:2,color:"blue"}]}c.prototype.render=function(g){b();var j=this.body.length-1;for(var f=0;f<=j;f++){var h=document.createElement("div");h.style.position=a;h.style.width=this.width+"px";h.style.height=this.height+"px";h.style.backgroundColor=this.body[f].color;this.x=this.body[f].x;this.y=this.body[f].y;h.style.left=(this.x*this.width)+"px";h.style.top=(this.y*this.height)+"px";d.push(h);g.appendChild(h)}};c.prototype.move=function(k,j){for(var f=this.body.length-1;f>0;f--){this.body[f].x=this.body[f-1].x;this.body[f].y=this.body[f-1].y}var h=this.body[0];switch(this.direction){case"right":h.x+=1;break;case"left":h.x-=1;break;case"top":h.y-=1;break;case"bottom":h.y+=1;break}if(h.x===k.x&&h.y===k.y){var g=this.body[this.body.length-1];var l={x:g.x,y:g.y,color:g.color};this.body.push(l);k.render(j)}};function b(){var f=d.length-1;for(var g=f;g>=0;g--){d[g].parentNode.removeChild(d[g]);d.splice(g,1)}}e.Snake=c})(window);(function(d){var c=null;function e(f){this.snake=new Snake();this.food=new Food();this.map=f;c=this}e.prototype.start=function(){this.food.render(this.map);this.snake.render(this.map);a();b()};function a(){var f=setInterval(function(){c.snake.move(c.food,c.map);c.snake.render(c.map);var i=c.map.offsetWidth/c.snake.width;var h=c.map.offsetHeight/c.snake.height;var g=c.snake.body[0];if(g.x<0||g.x>=i){alert("Game Over");clearInterval(f);d.location="index.html"}if(g.y<0||g.y>=h){alert("Game Over");clearInterval(f);d.location="index.html"}},150)}function b(){document.addEventListener("keydown",function(f){switch(f.keyCode){case 37:c.snake.direction="left";break;case 38:c.snake.direction="top";break;case 39:c.snake.direction="right";break;case 40:c.snake.direction="bottom";break}})}d.Game=e})(window);var map=document.getElementById("map");var game=new Game(map);game.start();